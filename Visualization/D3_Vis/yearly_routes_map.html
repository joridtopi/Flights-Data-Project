<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Number of Routes Per Year</title>
		<script type="text/javascript" src="d3.js"></script>
		<style type="text/css">
		p {
			font-family: Helvetica, sans-serif;
			font-size: 14px;
			font-weight: bold;
		}

		input[type=checkbox] {
			margin-left: 5px;
		}

		#tooltip {
			position: absolute;
			width: 200px;
			height: auto;
			padding: 10px;
			background-color: white;
			-webkit-border-radius: 10px;
			-moz-border-radius: 10px;
			border-radius: 10px;
			-webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
			-moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
			box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
			pointer-events: none;
		}

		#tooltip.hidden {
			display: none;
		}

		#tooltip p {
			margin: 0;
			font-family: sans-serif;
			font-size: 16px;
			line-height: 20px;
		}

		</style>
	</head>
	<body>
		<p>
		Select Year:
		<input type="number" id="inputYear" min="1987" max="2019" step="1" value = "2019"/>
		Select Origin:
		<input type="text" id="inputOrigin" value = "All Origins"/>
		<label>Min Flight Count: </label>
		<input type="text" id="inputFlightCount" value = "10"/>
		<label>Rank Route By: </label>
		<select id="rankSel">
		<option value="routeCount">Route Count</option>
		<option value="routeDelay">Average Route Delay</option>
		</select>
		<br>
		<input type="radio" id="input1" name="airline" value="Alaska Airlines Inc.">
		<label for="airline1" style="color:seagreen"> Alaska Airlines</label>
		<input type="radio" id="input2" name="airline" value="American Airlines Inc.">
		<label for="airline2" style="color:slategray"> American Airlines</label>
		<input type="radio" id="input3" name="airline" value="Delta Air Lines Inc.">
		<label for="airline3" style="color:darkred"> Delta Airlines</label>
		<input type="radio" id="input4" name="airline" value="Frontier Airlines Inc.">
		<label for="airline4" style="color:yellowgreen"> Frontier Airlines</label>
		<input type="radio" id="input5" name="airline" value="Hawaiian Airlines Inc.">
		<label for="airline5" style="color:orchid"> Hawaiian Airlines</label>
		<input type="radio" id="input6" name="airline" value="JetBlue Airways">
		<label for="airline6" style="color:skyblue"> JetBlue Airways</label>
		<input type="radio" id="input7" name="airline" value="Southwest Airlines Co.">
		<label for="airline7" style="color:indigo"> Southwest Airlines</label>
		<input type="radio" id="input8" name="airline" value="Spirit Air Lines">
		<label for="airline8" style="color:gold"> Spirit Airlines</label>
		<input type="radio" id="input9" name="airline" value="United Air Lines Inc.">
		<label for="airline9" style="color:cornflowerblue"> United Airlines</label>
		<input type="radio" id="input10" name="airline" value="SkyWest Airlines Inc.">
		<label for="airline10" style="color:cornflowerblue"> SkyWest Airlines</label>

		<select id="sel">
			<option value="AirTran Airways Corporation">AirTran Airways Corporation</option>
			<option value="Alaska Airlines">Alaska Airlines</option>
			<option value="Allegiant Air">Allegiant Air</option>
			<option value="Aloha Air Cargo">Aloha Air Cargo</option>
			<option value="America West Airlines">America West Airlines</option>
			<option value="American Airlines">American Airlines</option>
			<option value="ATA Airlines">ATA Airlines</option>
			<option value="Continental Airlines">Continental Airlines</option>
			<option value="Delta Airlines">Delta Airlines</option>
			<option value="Eastern Airlines">Eastern Airlines</option>
			<option value="Endeavor Air">Endeavor Air</option>
			<option value="Envoy Air">Envoy Air</option>
			<option value="ExpressJet Airlines">ExpressJet Airlines</option>
			<option value="Frontier Airlines">Frontier Airlines</option>
			<option value="Hawaiian Airlines">Hawaiian Airlines</option>
			<option value="Independence Air">Independence Air</option>
			<option value="JetBlue Airways">JetBlue Airways</option>
			<option value="Mesa Airlines">Mesa Airlines</option>
			<option value="Midway Airlines">Midway Airlines</option>
			<option value="Northwest Airlines">Northwest Airlines</option>
			<option value="Pacific Southwest Airlines">Pacific Southwest Airlines</option>
			<option value="Pan American World Airways">Pan American World Airways</option>
			<option value="Piedmont Aviation">Piedmont Aviation</option>
			<option value="PSA Airlines">PSA Airlines</option>
			<option value="Republic Airline">Republic Airline</option>
			<option value="SkyWest Airlines">SkyWest Airlines</option>
			<option value="Southwest Airlines">Southwest Airlines</option>
			<option value="Spirit Airlines">Spirit Airlines</option>
			<option value="Trans World Airways">Trans World Airways</option>
			<option value="United Airlines">United Airlines</option>
			<option value="US Airways">US Airways</option>
			<option value="Virgin America">Virgin America</option>
		</select>
		</p>

		<div id="tooltip" class="hidden">
			<p><strong>Airline: </strong><span id="airlineDisp"></span></p><br>
			<p><strong>Origin - </strong><span id="originDisp"></span></p><br>
			<p><strong>Dest - </strong><span id="destDisp"></span></p><br>
			<p><strong>Year: </strong><span id="yearDisp"></span></p><br>
			<p><strong>Average Departure Delay: </strong><span id="value">100</span> Minutes</p><br>
			<p><strong>Number of Flights: </strong><span id="countDisp"></span></p>
		</div>


		<script type="text/javascript">


			//Declare global user input variables to be updated by the fetch function
			var airline_name = [];
			var input_origin = [];
			var input_year = [];
			var input_rank = [];
			var airline_color = [];
			var input_flight_count = [];

			//Declare global Map SVG properties
			var svgMap = [];
			var projection = [];
			var mapPath = [];

			//Declare global data variables
			var geoData = [];
			var routeDataCount = [];
			var routeDataDelay = [];


			//Create event to listen for user input clicks to update data
			d3.selectAll('input')
				.on("change", updateCharts);

			//Flow control function for building charts
			function updateCharts(){
				fetchUserInputs();
				getGeoData(airline_name);
				getRouteDataCount(airline_name);
				getRouteDataDelay(airline_name);
				refreshCharts();
				createMap();
				setTimeout(function(){
    			getCircles(geoData);
					getFlightPaths(geoData);
					if(input_rank == "routeCount"){
						routeCountBarChart(routeDataCount);
					} else if (input_rank == "routeDelay"){
						routeDelayBarChart(routeDataDelay);
					};
				},1000);
			}

			//Updates user input globals based on current selections
			function fetchUserInputs(){
				//Fetch user inputs
				airline_name = document.querySelector('input[name=airline]:checked').value;
				input_origin = document.getElementById('inputOrigin').value;
				input_year = document.getElementById('inputYear').value;
				input_rank = document.getElementById('rankSel').value;
				input_flight_count = +document.getElementById('inputFlightCount').value;

				//Fetch airline color based on user input
				if(airline_name == "Alaska Airlines Inc."){
					airline_color = "seagreen";
				}
				else if(airline_name == "American Airlines Inc."){
					airline_color = "slategray";
				}
				else if(airline_name == "Delta Air Lines Inc."){
					airline_color = "darkred";
				}
				else if(airline_name == "Frontier Airlines Inc."){
					airline_color = "yellowgreen";
				}
				else if(airline_name == "Hawaiian Airlines Inc."){
					airline_color = "orchid";
				}
				else if(airline_name == "JetBlue Airways"){
					airline_color = "skyblue";
				}
				else if(airline_name == "Southwest Airlines Co."){
					airline_color = "indigo";
				}
				else if(airline_name == "Spirit Air Lines"){
					airline_color = "gold";
				}
				else if(airline_name == "United Air Lines Inc."){
					airline_color = "cornflowerblue";
				}
				else if(airline_name == "SkyWest Airlines Inc."){
					airline_color = "cornflowerblue";
				};
			}

			//Obtains the geo data based on selected airline, populates global
			function getGeoData(airline){

				//URL for geo data API
				//const yearlyroutes_geo_url = 'http://localhost:3000/yearlyroutes/geo/airline/'+airline;
				const yearlyroutes_geo_url = 'JSON_data/flight_geo_data.json';

				//Data conversions
				d3.json(yearlyroutes_geo_url)
				.then(function(dataset) {

					//Convert strings to numericals
					dataset.forEach(function(d){
						d.origin_lat = +d.origin_lat;
						d.origin_lon= +d.origin_lon;
						d.dest_lat = +d.dest_lat;
						d.dest_lon= +d.dest_lon;
						d.avg_dep_dly = +d.avg_dep_dly;
						d.count= +d.count
					});


					//Filter data based on user inputs. Filter or origin if input is not "All Origins"
					if(input_origin == "All Origins"){
						dataset = dataset.filter(d=>d.fl_year==input_year
																				&d.carrier_name == airline_name
																				&d.count >= input_flight_count);
					} else{
						dataset = dataset.filter(d=>d.fl_year==input_year
																				&d.carrier_name == airline_name
																				&d.count >= input_flight_count
																				&d.origin==input_origin);
					};

				//Populate global with post processed data
				geoData = dataset;
				});
			}


			//Obtains route data sorted by count
			function getRouteDataCount(airline){

				//URL for flight count data API
				//const	yearlyroutes_url = 'http://localhost:3000/yearlyroutes/count/airline/'+airline;
				const	yearlyroutes_url = 'JSON_data/flight_route_count.json';

				//Data conversions
				d3.json(yearlyroutes_url)
				.then(function(dataset) {

					//Convert strings to numericals and construct origin to dest string for y-axes
					dataset.forEach(function(d){
						d.avg_dep_dly = +d.avg_dep_dly;
						d.count= +d.count
						d.origin_dest = d.origin + "-" + d.dest;
					});

					//Filter data based on user inputs. Filter or origin if input is not "All Origins"
					if(input_origin == "All Origins"){
						dataset = dataset.filter(d=>d.carrier_name==airline_name
																				& d.fl_year==input_year
																				& d.count >= input_flight_count);
					} else{
						dataset = dataset.filter(d=>d.carrier_name==airline_name
																				& d.fl_year==input_year
																				& d.count >= input_flight_count
																				& d.origin==input_origin);
					};

				//Populate global with post processed data
				routeDataCount = dataset;
				});
			}


			//Obtains route data sorted by average delay
			function getRouteDataDelay(airline){

				//URL for average flight delay data API
				//const yearlyroutes_url = 'http://localhost:3000/yearlyroutes/airline/'+airline;
				const	yearlyroutes_url = 'JSON_data/flight_route_delay.json';

				//Data conversions
				d3.json(yearlyroutes_url)
				.then(function(dataset) {

					//Convert strings to numericals and construct origin to dest string for y-axes
					dataset.forEach(function(d){
						d.avg_dep_dly = +d.avg_dep_dly;
						d.count= +d.count;
						d.origin_dest = d.origin + "-" + d.dest;
					});

					//Filter data based on user inputs. Filter or origin if input is not "All Origins"
					if(input_origin == "All Origins"){
						dataset = dataset.filter(d=>d.carrier_name==airline_name
																				& d.count >= input_flight_count
																				& d.fl_year==input_year);
					} else{
						dataset = dataset.filter(d=>d.carrier_name==airline_name
																				& d.fl_year==input_year
																				& d.count >= input_flight_count
																				& d.origin==input_origin);
					};

				//Populate global with post processed data
				routeDataDelay = dataset;
				});
			}

			//Clears all SVGs to refresh the charts
			function refreshCharts(){
				d3.selectAll("svg").remove();
			}

			//Creates the map svg
			function createMap(){

				//Width and height for map SVG
				var w = 1250;
				var h = 650;

				//Create SVG element
				svgMap = d3.select("body")
							.append("svg")
							.attr("width", w)
							.attr("height", h)
							.style("fill", "cornflowerblue");

				//Create a colored background for the SVG
				svgMap.append("rect")
			    .attr("width", "100%")
			    .attr("height", "100%")
			    .attr("fill", "gainsboro");

				//Declare the map projection
				projection = d3.geoAlbersUsa()
														.translate([w/2,h/2])
														.scale([1300]);

				//Create geo line paths based on selected projection
				mapPath = d3.geoPath()
					.projection(projection);

				//Append the map paths to the SVG
				d3.json("us-states.json")
				.then(function(json) {
					svgMap.selectAll("path")
						.data(json.features)
						.enter()
						.append("path")
						.attr("class", "map")
						.attr("d", mapPath)
						.style("fill", airline_color);
				});

			}

			//Creates destination location circles based on geo data
			function getCircles(dataset){

				//If all origins are selected, then do not add origin filter. All circle sizes are the same.
				//If an origin is selected, filter by it. Re-size circles based on flight count or flight delay.
				//If an origin is selected, add a tooltip to the circle for more hover information
				if(input_origin == "All Origins"){
					//Add circles with the same size and no tooltip
					svgMap.selectAll("circle")
						.data(dataset)
						.enter()
						.append("circle")
						.attr("cx", function(d){
							return projection([d.dest_lon, d.dest_lat])[0];
						})
						.attr("cy", function(d){
							return projection([d.dest_lon, d.dest_lat])[1];
						})
						.attr("r",5)
						.style("fill", "whitesmoke")
						.style("stroke", "black")
						.style("stroke-width", 0.25);
				} else{
					//Circle size scale for flight count
					var circleScaleCount = d3.scaleLinear()
			            .domain([d3.min(dataset, function(d){return d.count;}),
													 d3.max(dataset, function(d){return d.count;})])
			            .range([2, 15]);

					//Circle size scale for average flight delay
					var circleScaleDelay = d3.scaleLinear()
			            .domain([d3.min(dataset, function(d){return d.avg_dep_dly;}),
													 d3.max(dataset, function(d){return d.avg_dep_dly;})])
			            .range([2, 15]);

					//Add circles with varying size and tooltip on hover
					svgMap.selectAll("circle")
						.data(dataset)
						.enter()
						.append("circle")
						.attr("cx", function(d){
							return projection([d.dest_lon, d.dest_lat])[0];
						})
						.attr("cy", function(d){
							return projection([d.dest_lon, d.dest_lat])[1];
						})
						.attr("r", function(d){
							if(input_rank == "routeCount"){
								return circleScaleCount(d.count);
							} else if (input_rank == "routeDelay"){
								return circleScaleDelay(d.avg_dep_dly);
							};
						})
						.style("fill", "whitesmoke")
						.style("stroke", "black")
						.style("stroke-width", 0.25)
						.on("mouseover", function(d){
							d3.select(this)
							 .attr("fill", "whitesmoke")
							 .attr("stroke", airline_color);

						 //Get this bar's x/y values, then augment for the tooltip
						 var xPosition = parseFloat(d3.select(this).attr("cx")) + 20;
						 var yPosition = parseFloat(d3.select(this).attr("cy"));

						 //Update the tooltip position and value
						 d3.select("#tooltip")
							 .style("left", xPosition + "px")
							 .style("top", yPosition + "px")
							 .select("#value")
							 .text(Math.round(d.avg_dep_dly * 100) / 100);

						 d3.select("#tooltip")
							 .select("#airlineDisp")
							 .text(d.carrier_name);

						 d3.select("#tooltip")
							 .select("#originDisp")
							 .text(d.origin_airport_name);

						 d3.select("#tooltip")
							 .select("#destDisp")
							 .text(d.dest_airport_name);

						 d3.select("#tooltip")
							 .select("#yearDisp")
							 .text(d.fl_year);

						 d3.select("#tooltip")
							 .select("#countDisp")
							 .text(d.count);

						 //Show the tooltip
						 d3.select("#tooltip").classed("hidden", false);

						})
						.on("mouseout", function(d){
							d3.select(this)
							 .transition()
							 .duration(250)
							 .attr("fill", airline_color)
							 .attr("stroke", "whitesmoke");;

						 //Hide the tooltip
						 d3.select("#tooltip").classed("hidden", true);
						});
					}
			}

			//Creates flight paths based on geo data input
			function getFlightPaths(dataset){

				//Define line generator using the geo projection
				line = d3.line()
							.x(function(d) { return projection([d.lon, d.lat])[0]; })
							.y(function(d) { return projection([d.lon, d.lat])[1]; });

				//Create lines using a for loop on each route
				dataset.forEach(function(d){
					//For each data point, obtain origin and end points for the line
					line_data = [{lon: d.origin_lon, lat: d.origin_lat},
											 {lon: d.dest_lon, lat: d.dest_lat}];

					//Add the generated line for each data point
					lineAdd = svgMap.append("path")
						.datum(line_data)
						.attr("clip-path", "url(#clip)")
						.attr("class", "line")
						.attr("stroke", "whitesmoke")
						.attr("stroke-width", "2px")
						.attr("fill", "whitesmoke")
						.attr("d", line);
				});

			};

			//Creates route bar chart sorted by count
			function routeCountBarChart(dataset_bar){

					//X-padding
			    var x_pad = 60;
			    //Y-padding
			    var y_pad = 40;

					//Width and height
					var w = 1250;
					var h = dataset_bar.length * 35;

					//Set the y-domain for the bar graph according to the y data range
					var yDomainMinMargin = (d3.max(dataset_bar, function(d){return d.count;}) - d3.min(dataset_bar, function(d){return d.count;})) * 0.3
					var yDomainMin = d3.min(dataset_bar, function(d){return d.count;}) - yDomainMinMargin;

					//Define the x-scale
					var xScaleNew = d3.scaleLinear()
			            .domain([yDomainMin,
													 d3.max(dataset_bar, function(d){return d.count;})])
			            .range([0, w-x_pad]);

					//Define the y-scale
					var yScaleNew = d3.scaleBand()
									.domain(d3.range(dataset_bar.length))
									.rangeRound([h, 0])
									.paddingInner(0.05);

					//Generate Y-axis and map origin-destination string
					var yAxisScaleNew = d3.scaleBand()
			        .domain(dataset_bar.map(function(d){return d.origin_dest;}))
			        .rangeRound([h,0]);

			    var yAxis = d3.axisLeft(yAxisScaleNew);

					//Create SVG element
					var svg = d3.select("body")
								.append("svg")
								.attr("width", w)
								.attr("height", h + 300);

					//Create bars
					svg.selectAll("rect")
						 .data(dataset_bar)
						 .enter()
						 .append("rect")
						 .attr("x", function(d) {
							 	return x_pad;
						 })
						 .attr("y", function(d, i) {
							 	return yScaleNew(i);
						 })
						 .attr("width", function(d){
							 return xScaleNew(d.count);
						 })
						 .attr("height", function(d) {
							 	return yScaleNew.bandwidth();
						 })
						 .attr("fill", airline_color)
						 .on("mouseover", function(d){
							 d3.select(this)
							 	.attr("fill", "whitesmoke")
								.attr("stroke", airline_color);

							//Get this bar's x/y values, then augment for the tooltip
							var xPosition = parseFloat(d3.select(this).attr("x")) + xScaleNew(d.count) / 2;
							var yPosition = parseFloat(d3.select(this).attr("y")) + (yScaleNew.bandwidth() / 2) + 600;

							//Update the tooltip position and value
							d3.select("#tooltip")
								.style("left", xPosition + "px")
								.style("top", yPosition + "px")
								.select("#value")
								.text(Math.round(d.avg_dep_dly * 100) / 100);

							d3.select("#tooltip")
								.select("#airlineDisp")
								.text(d.carrier_name);

							d3.select("#tooltip")
								.select("#originDisp")
								.text(d.origin_airport_name);

							d3.select("#tooltip")
								.select("#destDisp")
								.text(d.dest_airport_name);

							d3.select("#tooltip")
								.select("#yearDisp")
								.text(d.fl_year);

							d3.select("#tooltip")
								.select("#countDisp")
								.text(d.count);

							//Show the tooltip
							d3.select("#tooltip").classed("hidden", false);

						 })
						 .on("mouseout", function(d){
							 d3.select(this)
							 	.transition()
								.duration(250)
							 	.attr("fill", airline_color)
								.attr("stroke", "whitesmoke");;

							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
						 });

				 //Add text values to each bar
				 svg.selectAll("text")
				 		.data(dataset_bar)
						.enter()
						.append("text")
						.text(function(d){
							return Math.round(d.count * 100) / 100;
						})
						.attr("y", function(d,i){
							return yScaleNew(i) + yScaleNew.bandwidth() / 1.5;
						})
						.attr("x", function(d){
							return xScaleNew(d.count);
						})
						.attr("font-family", "sans-serif")
						.attr("fill", "whitesmoke");

 			   //Add the y-axis
 			    svg.append("g")
 			    .attr("class", "axis")
 			    .attr("transform","translate(" + x_pad + ",0)")
 			    .call(yAxis);

			};


			//Creates route bar chart sorted by average delay
			function routeDelayBarChart(dataset_bar){

				//X-padding
		    var x_pad = 60;
		    //Y-padding
		    var y_pad = 40;

				//Width and height
				var w = 1250;
				var h = dataset_bar.length * 35;

				//Set the y-domain for the bar graph according to the y data range
				var yDomainMinMargin = (d3.max(dataset_bar, function(d){return d.avg_dep_dly;}) - d3.min(dataset_bar, function(d){return d.avg_dep_dly;})) * 0.3
				var yDomainMin = d3.min(dataset_bar, function(d){return d.avg_dep_dly;}) - yDomainMinMargin;

				//Define the x-scale
				var xScaleNew = d3.scaleLinear()
								.domain([yDomainMin,
												 d3.max(dataset_bar, function(d){return d.avg_dep_dly;})])
								.range([0, w-x_pad]);

				//Define the y-scale
				var yScaleNew = d3.scaleBand()
								.domain(d3.range(dataset_bar.length))
								.rangeRound([h, 0])
								.paddingInner(0.05);

				//Generate Y-axis and map the origin-destination string to it
				var yAxisScaleNew = d3.scaleBand()
						.domain(dataset_bar.map(function(d){return d.origin_dest;}))
						.rangeRound([h,0]);

				var yAxis = d3.axisLeft(yAxisScaleNew);

				//Create SVG element
				var svg = d3.select("body")
							.append("svg")
							.attr("width", w)
							.attr("height", h + 300);

				//Create bars
				svg.selectAll("rect")
					 .data(dataset_bar)
					 .enter()
					 .append("rect")
					 .attr("x", function(d) {
							return x_pad;
					 })
					 .attr("y", function(d, i) {
							return yScaleNew(i);
					 })
					 .attr("width", function(d){
						 return xScaleNew(d.avg_dep_dly);
					 })
					 .attr("height", function(d) {
							return yScaleNew.bandwidth();
					 })
					 .attr("fill", airline_color)
					 .on("mouseover", function(d){
						 d3.select(this)
							.attr("fill", "whitesmoke")
							.attr("stroke", airline_color);

						//Get this bar's x/y values, then augment for the tooltip
						var xPosition = parseFloat(d3.select(this).attr("x")) + xScaleNew(d.avg_dep_dly) / 2;
						var yPosition = parseFloat(d3.select(this).attr("y")) + (yScaleNew.bandwidth() / 2) + 600;

						//Update the tooltip position and value
						d3.select("#tooltip")
							.style("left", xPosition + "px")
							.style("top", yPosition + "px")
							.select("#value")
							.text(Math.round(d.avg_dep_dly * 100) / 100);

						d3.select("#tooltip")
							.select("#airlineDisp")
							.text(d.carrier_name);

						d3.select("#tooltip")
							.select("#originDisp")
							.text(d.origin_airport_name);

						d3.select("#tooltip")
							.select("#destDisp")
							.text(d.dest_airport_name);

						d3.select("#tooltip")
							.select("#yearDisp")
							.text(d.fl_year);

						d3.select("#tooltip")
							.select("#countDisp")
							.text(d.count);

						//Show the tooltip
						d3.select("#tooltip").classed("hidden", false);

					 })
					 .on("mouseout", function(d){
						 d3.select(this)
							.transition()
							.duration(250)
							.attr("fill", airline_color)
							.attr("stroke", "whitesmoke");;

						//Hide the tooltip
						d3.select("#tooltip").classed("hidden", true);
					 });

			 //Add text values to each bar
			 svg.selectAll("text")
					.data(dataset_bar)
					.enter()
					.append("text")
					.text(function(d){
						return Math.round(d.avg_dep_dly * 100) / 100;
					})
					.attr("y", function(d,i){
						return yScaleNew(i) + yScaleNew.bandwidth() / 1.5;
					})
					.attr("x", function(d){
						return xScaleNew(d.avg_dep_dly);
					})
					.attr("font-family", "sans-serif")
					.attr("fill", "whitesmoke");

			 //Create y-axis
				svg.append("g")
				.attr("class", "axis")
				.attr("transform","translate(" + x_pad + ",0)")
				.call(yAxis);

			};


		</script>
	</body>
</html>
